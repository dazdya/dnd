{% extends 'base.html' %}
{% block title %}{{ character.name }}{% endblock %}
{% block content %}

{% for message in successes %}
<div class="alert alert-success alert-dismissable fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{ message }}
</div>
{% endfor %}

{% for message in errors %}
<div class="alert alert-danger alert-dismissable fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{ message }}
</div>
{% endfor %}

<div id="form-group" class="container text-center">
  <div class="row">
    <div class="col-sm-4">
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#general-panel">General</a>
      </h4>
    </div>
    <div id="general-panel" class="panel-collapse collapse">
      <div class="panel-body">
        <table class="table">
          <tbody>
            <tr>
              <td>Level:</td>
              <td id="level-value">{{ character['level'] }}</td>
            </tr>
            <tr>
              <td>Experience:</td>
              {% if editing_privileges %}
              <td><a href="#" class="btn btn-default" role="button" data-toggle="collapse" data-parent="#form-group" data-target="#xp-form" id="xp-value">{{ character['xp'] }}</a></td>
              {% else %}
              <td>{{ character['xp'] }}</td>
              {% endif %}
            </tr>
            {% if editing_privileges %}
            <tr id="xp-form" class="collapse">
              <td colspan="3">
                <form data-async data-target="#xp-errors" action="/api/{{ character['_id'] }}/xp/" method="POST" class="form-horizontal">
                  <div id="xp-errors"></div>
                  <div class="input-group">
                    <input type="number" class="form-control" id="xp" name="xp" value="{{ character['xp'] }}" min="0">
                    <div class="input-group-btn">
                      <button class="btn btn-default" type="submit">
                        Submit
                      </button>
                    </div>
                  </div>
                </form>
              </td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#abilities-panel">Abilities</a>
      </h4>
    </div>
    <div id="abilities-panel" class="panel-collapse collapse in">
      <div class="panel-body">
        <table class="table">
          <tbody>
            {% for ability in abilities %}
            <tr id="{{ ability }}-row"
               {% if character[ability + '_temp'] < 0 %}
               class="danger"
               {% elif character[ability + '_temp'] > 0 %}
               class="success"
               {% endif %}
            >
              <td>{{ ability|capitalize }}:</td>
              {% if editing_privileges %}
              <td><a href="#" class="btn btn-default" role="button" data-toggle="collapse" data-parent="#form-group" data-target="#{{ ability }}-form" id="{{ ability }}-value">{{ character[ability] }}</a></td>
              {% else %}
              <td>{{ character[ability] }}</td>
              {% endif %}
              <td><span class="badge" id="{{ ability }}-modifier">{{ character[ability + '_modifier'] }}</span></td>
            </tr>
            {% if editing_privileges %}
            <tr id="{{ ability }}-form" class="collapse">
              <td colspan="3">
                <form data-async data-target="#{{ ability }}-errors" action="/api/{{ character['_id'] }}/ability/{{ ability }}/" method="POST" class="form-horizontal">
                  <div id="{{ ability }}-errors"></div>
                  <div class="form-group">
                    <label for="base-{{ ability }}">
                      <a href="#" data-toggle="tooltip" title="base score that your roll at character creation">
                        Base:
                      </a>
                    </label>
                    <input type="number" class="form-control" id="base-{{ ability }}" name="base-{{ ability }}" value="{{ character[ability + '_base'] }}" min="1" max="25">
                  </div>
                  <div class="form-group">
                    <label for="level-{{ ability }}">
                      <a href="#" data-toggle="tooltip" title="you get to alter one attribute by one point every four levels">
                        Attribute points:
                      </a>
                    </label>
                    <input type="number" class="form-control" id="level-{{ ability }}" name="level-{{ ability }}" value="{{ character[ability + '_level'] }}" min="-25" max="25">
                  </div>
                  <div class="form-group">
                    <label for="temp-{{ ability }}">
                      <a href="#" data-toggle="tooltip" title="temporary changes from spell effects">
                        Temporary:
                      </a>
                    </label>
                    <input type="number" class="form-control" id="temp-{{ ability }}" name="temp-{{ ability }}" value="{{ character[ability + '_temp'] }}" min="-25" max="25">
                  </div>
                  <button type="submit" class="btn btn-default">Submit</button>
                </form>
              </td>
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="panel-footer">Unspent ability points: <div id="ability-points">{{ character['unspent_ability_points'] }}</div></div>
    </div>
  </div>
</div>

    </div>
    <div class="col-sm-4"> 
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#skills-panel">Skills</a>
      </h4>
    </div>
    <div id="skills-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#prayer-panel">Prayer</a>
      </h4>
    </div>
    <div id="prayer-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#magic-panel">Magic</a>
      </h4>
    </div>
    <div id="magic-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#sorcery-panel">Sorcery</a>
      </h4>
    </div>
    <div id="sorcery-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#equipment-panel">Equipment</a>
      </h4>
    </div>
    <div id="equipment-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
    </div>
    <div class="col-sm-4">
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#inventory-panel">Inventory</a>
      </h4>
    </div>
    <div id="inventory-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" class="btn btn-link btn-block" role="button" href="#background-panel">Background</a>
      </h4>
    </div>
    <div id="background-panel" class="panel-collapse collapse">
      <div class="panel-body">Panel Body</div>
      <div class="panel-footer">Panel Footer</div>
    </div>
  </div>
</div>
    </div>
  </div>
</div>
{% endblock %}
